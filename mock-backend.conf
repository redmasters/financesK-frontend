server {
    listen 80;
    server_name localhost;

    # Health check
    location /health {
        access_log off;
        return 200 "Backend healthy\n";
        add_header Content-Type text/plain;
    }

    # Mock API responses para desenvolvimento
    location /api/v1/transactions/stats/income-expense-balance {
        add_header Content-Type application/json;
        return 200 '{
            "totalIncome": 5000.00,
            "totalExpense": 1500.50,
            "balance": 3499.50,
            "currency": "R$"
        }';
    }

    location /api/v1/transactions/search {
        add_header Content-Type application/json;
        return 200 '{
            "content": [],
            "page": {
                "size": 20,
                "number": 0,
                "totalElements": 0,
                "totalPages": 0
            }
        }';
    }

    location /api/v1/categories {
        add_header Content-Type application/json;
        return 200 '[
            {
                "id": 1,
                "name": "Alimentação",
                "icon": "fas fa-utensils",
                "color": "#FF6B6B",
                "parentId": null
            }
        ]';
    }

    # Fallback para outras rotas da API
    location /api/ {
        add_header Content-Type application/json;
        return 200 '{"message": "Mock API endpoint"}';
    }
}
